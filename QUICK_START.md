# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ alexautozakup.kz

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ **DNS –∑–æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞** –¥–ª—è –¥–æ–º–µ–Ω–∞ `alexautozakup.kz` ‚Üí `85.198.89.34`
- ‚è≥ **DNS –∑–∞–ø–∏—Å–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è** (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 48 —á–∞—Å–æ–≤, –æ–±—ã—á–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç)
- ‚úÖ **Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞**
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–º–µ–Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞**

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
cd /root/alex
./check-dns.sh
```

–ö–æ–≥–¥–∞ —É–≤–∏–¥–∏—Ç–µ `‚úÖ DNS –∑–∞–ø–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞`, –º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å.

## –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ HTTP —Å–Ω–∞—á–∞–ª–∞ (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞):

```bash
cd /root/alex

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f app
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ:
- **HTTP (–≤—Ä–µ–º–µ–Ω–Ω–æ)**: http://85.198.89.34 –∏–ª–∏ http://alexautozakup.kz (–∫–æ–≥–¥–∞ DNS –æ–±–Ω–æ–≤–∏—Ç—Å—è)
- **–ü–æ—Ä—Ç 3000** (–≤—Ä–µ–º–µ–Ω–Ω–æ): http://85.198.89.34:3000 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

## –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–ö–æ–≥–¥–∞ DNS –∑–∞–ø–∏—Å–∏ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `./check-dns.sh`):

```bash
# –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∑–∞–º–µ–Ω–∏—Ç–µ email –Ω–∞ –≤–∞—à!)
docker-compose run --rm certbot certonly \
  --webroot \
  --webroot-path=/var/www/certbot \
  --email –≤–∞—à-email@example.com \
  --agree-tos \
  --no-eff-email \
  -d alexautozakup.kz \
  -d www.alexautozakup.kz
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-email@example.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π email!

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ HTTPS

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

```bash
# –û–±–Ω–æ–≤–∏—Ç—å docker-compose.yml –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è HTTPS
sed -i 's|nginx-http.conf:/etc/nginx/conf.d/default.conf|nginx.conf:/etc/nginx/conf.d/default.conf|' docker-compose.yml

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å nginx
docker-compose up -d nginx
```

## –®–∞–≥ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é:

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec app sh

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
npx prisma db push
npx prisma generate
npm run db:seed

# –í—ã–π—Ç–∏
exit
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω:
- ‚úÖ **HTTPS**: https://alexautozakup.kz
- ‚úÖ **HTTP ‚Üí HTTPS**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `db:seed`:

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
- Email: `admin@alex.kz`
- –ü–∞—Ä–æ–ª—å: `Admin123!`

**–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- –ó–∞–∫—É–ø—â–∏–∫: `purchaser@alex.kz` / `Test123!`
- –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å: `manager@alex.kz` / `Test123!`
- –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å: `viewer@alex.kz` / `Test123!`

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
./check-dns.sh

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose logs -f app

# –õ–æ–≥–∏ nginx
docker-compose logs -f nginx

# –õ–æ–≥–∏ PostgreSQL
docker-compose logs -f postgres

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker-compose build --no-cache app
docker-compose up -d
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### DNS –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç (–æ–±—ã—á–Ω–æ 5-30 –º–∏–Ω—É—Ç, –º–∞–∫—Å–∏–º—É–º 48 —á–∞—Å–æ–≤)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ DNS —Å–µ—Ä–≤–µ—Ä—ã:
  ```bash
  dig @8.8.8.8 alexautozakup.kz
  dig @1.1.1.1 alexautozakup.kz
  ```

### –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DNS –∑–∞–ø–∏—Å–∏ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å: `./check-dns.sh`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç: `sudo ufw status`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ nginx –∑–∞–ø—É—â–µ–Ω: `docker-compose ps nginx`

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs app

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã
sudo netstat -tlnp | grep -E ':(80|443|3000|5432)'
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL
docker-compose ps postgres

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker-compose logs postgres

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
docker-compose exec postgres psql -U alex_user -d alex_db -c "SELECT 1;"
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç (–º–æ–∂–Ω–æ —Å–µ–π—á–∞—Å –ø–æ IP)
2. ‚è≥ –î–æ–∂–¥–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DNS –∑–∞–ø–∏—Å–µ–π
3. üîí –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
4. ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ HTTPS
5. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á–∏ (Google Search API –∏ –¥—Ä.) –≤ `.env`

## –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `DOMAIN_SETUP.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–æ–º–µ–Ω–∞ –∏ SSL
- `DOCKER.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å Docker
- `SETUP.md` - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

